!
  pixi-filters - v4.1.4
  Compiled Thu, 22 Jul 2021 213737 UTC
 
  pixi-filters is licensed under the MIT License.
  httpwww.opensource.orglicensesmit-license
 
var __filters=function(e,n,t,r,o,i,l,a){use strict;var s=function(e,n){return(s=Object.setPrototypeOf{__proto__[]}instanceof Array&&function(e,n){e.__proto__=n}function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])})(e,n)};function u(e,n){function t(){this.constructor=e}s(e,n),e.prototype=null===nObject.create(n)(t.prototype=n.prototype,new t)}var f=function(){return(f=Object.assignfunction(e){for(var n,t=arguments,r=1,o=arguments.length;ro;r++)for(var i in n=t[r])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e}).apply(this,arguments)};Object.create;Object.create;var c=attribute vec2 aVertexPosition;nattribute vec2 aTextureCoord;nnuniform mat3 projectionMatrix;nnvarying vec2 vTextureCoord;nnvoid main(void)n{n    gl_Position = vec4((projectionMatrix  vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);n    vTextureCoord = aTextureCoord;n},m=function(e){function n(n){var t=e.call(this,c,varying vec2 vTextureCoord;nuniform sampler2D uSampler;nnuniform float gamma;nuniform float contrast;nuniform float saturation;nuniform float brightness;nuniform float red;nuniform float green;nuniform float blue;nuniform float alpha;nnvoid main(void)n{n    vec4 c = texture2D(uSampler, vTextureCoord);nn    if (c.a  0.0) {n        c.rgb = c.a;nn        vec3 rgb = pow(c.rgb, vec3(1.  gamma));n        rgb = mix(vec3(.5), mix(vec3(dot(vec3(.2125, .7154, .0721), rgb)), rgb, saturation), contrast);n        rgb.r = red;n        rgb.g = green;n        rgb.b = blue;n        c.rgb = rgb  brightness;nn        c.rgb = c.a;n    }nn    gl_FragColor = c  alpha;n}n)this;return t.gamma=1,t.saturation=1,t.contrast=1,t.brightness=1,t.red=1,t.green=1,t.blue=1,t.alpha=1,Object.assign(t,n),t}return u(n,e),n.prototype.apply=function(e,n,t,r){this.uniforms.gamma=Math.max(this.gamma,1e-4),this.uniforms.saturation=this.saturation,this.uniforms.contrast=this.contrast,this.uniforms.brightness=this.brightness,this.uniforms.red=this.red,this.uniforms.green=this.green,this.uniforms.blue=this.blue,this.uniforms.alpha=this.alpha,e.applyFilter(this,n,t,r)},n}(n.Filter),p=function(e){function n(n){void 0===n&&(n=.5);var t=e.call(this,c,nuniform sampler2D uSampler;nvarying vec2 vTextureCoord;nnuniform float threshold;nnvoid main() {n    vec4 color = texture2D(uSampler, vTextureCoord);nn     A simple & fast algorithm for getting brightness.n     It's inaccuracy , but good enought for this feature.n    float _max = max(max(color.r, color.g), color.b);n    float _min = min(min(color.r, color.g), color.b);n    float brightness = (_max + _min)  0.5;nn    if(brightness  threshold) {n        gl_FragColor = color;n    } else {n        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);n    }n}n)this;return t.threshold=n,t}return u(n,e),Object.defineProperty(n.prototype,threshold,{getfunction(){return this.uniforms.threshold},setfunction(e){this.uniforms.threshold=e},enumerable!1,configurable!0}),n}(n.Filter),d=function(e){function n(n,r,o){void 0===n&&(n=4),void 0===r&&(r=3),void 0===o&&(o=!1);var i=e.call(this,c,onvarying vec2 vTextureCoord;nuniform sampler2D uSampler;nnuniform vec2 uOffset;nuniform vec4 filterClamp;nnvoid main(void)n{n    vec4 color = vec4(0.0);nn     Sample top left pixeln    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));nn     Sample top right pixeln    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));nn     Sample bottom right pixeln    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));nn     Sample bottom left pixeln    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));nn     Averagen    color = 0.25;nn    gl_FragColor = color;n}nnvarying vec2 vTextureCoord;nuniform sampler2D uSampler;nnuniform vec2 uOffset;nnvoid main(void)n{n    vec4 color = vec4(0.0);nn     Sample top left pixeln    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y));nn     Sample top right pixeln    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y));nn     Sample bottom right pixeln    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y));nn     Sample bottom left pixeln    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y));nn     Averagen    color = 0.25;nn    gl_FragColor = color;n})this;return i._kernels=[],i._blur=4,i._quality=3,i.uniforms.uOffset=new Float32Array(2),i._pixelSize=new t.Point,i.pixelSize=1,i._clamp=o,Array.isArray(n)i.kernels=n(i._blur=n,i.quality=r),i}return u(n,e),n.prototype.apply=function(e,n,t,r){var o,i=this._pixelSize.xn._frame.width,l=this._pixelSize.yn._frame.height;if(1===this._quality0===this._blur)o=this._kernels[0]+.5,this.uniforms.uOffset[0]=oi,this.uniforms.uOffset[1]=ol,e.applyFilter(this,n,t,r);else{for(var a=e.getFilterTexture(),s=n,u=a,f=void 0,c=this._quality-1,m=0;mc;m++)o=this._kernels[m]+.5,this.uniforms.uOffset[0]=oi,this.uniforms.uOffset[1]=ol,e.applyFilter(this,s,u,1),f=s,s=u,u=f;o=this._kernels[c]+.5,this.uniforms.uOffset[0]=oi,this.uniforms.uOffset[1]=ol,e.applyFilter(this,s,t,r),e.returnFilterTexture(a)}},n.prototype._updatePadding=function(){this.padding=Math.ceil(this._kernels.reduce((function(e,n){return e+n+.5}),0))},n.prototype._generateKernels=function(){var e=this._blur,n=this._quality,t=[e];if(e0)for(var r=e,o=en,i=1;in;i++)r-=o,t.push(r);this._kernels=t,this._updatePadding()},Object.defineProperty(n.prototype,kernels,{getfunction(){return this._kernels},setfunction(e){Array.isArray(e)&&e.length0(this._kernels=e,this._quality=e.length,this._blur=Math.max.apply(Math,e))(this._kernels=[0],this._quality=1)},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,clamp,{getfunction(){return this._clamp},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,pixelSize,{getfunction(){return this._pixelSize},setfunction(e){number==typeof e(this._pixelSize.x=e,this._pixelSize.y=e)Array.isArray(e)(this._pixelSize.x=e[0],this._pixelSize.y=e[1])e instanceof t.Point(this._pixelSize.x=e.x,this._pixelSize.y=e.y)(this._pixelSize.x=1,this._pixelSize.y=1)},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,quality,{getfunction(){return this._quality},setfunction(e){this._quality=Math.max(1,Math.round(e)),this._generateKernels()},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,blur,{getfunction(){return this._blur},setfunction(e){this._blur=e,this._generateKernels()},enumerable!1,configurable!0}),n}(n.Filter),h=function(e){function n(t){var o=e.call(this,c,uniform sampler2D uSampler;nvarying vec2 vTextureCoord;nnuniform sampler2D bloomTexture;nuniform float bloomScale;nuniform float brightness;nnvoid main() {n    vec4 color = texture2D(uSampler, vTextureCoord);n    color.rgb = brightness;n    vec4 bloomColor = vec4(texture2D(bloomTexture, vTextureCoord).rgb, 0.0);n    bloomColor.rgb = bloomScale;n    gl_FragColor = color + bloomColor;n}n)this;o.bloomScale=1,o.brightness=1,o._resolution=r.settings.FILTER_RESOLUTION,number==typeof t&&(t={thresholdt});var i=Object.assign(n.defaults,t);o.bloomScale=i.bloomScale,o.brightness=i.brightness;var l=i.kernels,a=i.blur,s=i.quality,u=i.pixelSize,f=i.resolution;return o._extractFilter=new p(i.threshold),o._extractFilter.resolution=f,o._blurFilter=lnew d(l)new d(a,s),o.pixelSize=u,o.resolution=f,o}return u(n,e),n.prototype.apply=function(e,n,t,r,o){var i=e.getFilterTexture();this._extractFilter.apply(e,n,i,1,o);var l=e.getFilterTexture();this._blurFilter.apply(e,i,l,1),this.uniforms.bloomScale=this.bloomScale,this.uniforms.brightness=this.brightness,this.uniforms.bloomTexture=l,e.applyFilter(this,n,t,r),e.returnFilterTexture(l),e.returnFilterTexture(i)},Object.defineProperty(n.prototype,resolution,{getfunction(){return this._resolution},setfunction(e){this._resolution=e,this._extractFilter&&(this._extractFilter.resolution=e),this._blurFilter&&(this._blurFilter.resolution=e)},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,threshold,{getfunction(){return this._extractFilter.threshold},setfunction(e){this._extractFilter.threshold=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,kernels,{getfunction(){return this._blurFilter.kernels},setfunction(e){this._blurFilter.kernels=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,blur,{getfunction(){return this._blurFilter.blur},setfunction(e){this._blurFilter.blur=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,quality,{getfunction(){return this._blurFilter.quality},setfunction(e){this._blurFilter.quality=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,pixelSize,{getfunction(){return this._blurFilter.pixelSize},setfunction(e){this._blurFilter.pixelSize=e},enumerable!1,configurable!0}),n.defaults={threshold.5,bloomScale1,brightness1,kernelsnull,blur8,quality4,pixelSize1,resolutionr.settings.FILTER_RESOLUTION},n}(n.Filter),g=function(e){function n(n){void 0===n&&(n=8);var t=e.call(this,c,varying vec2 vTextureCoord;nnuniform vec4 filterArea;nuniform float pixelSize;nuniform sampler2D uSampler;nnvec2 mapCoord( vec2 coord )n{n    coord = filterArea.xy;n    coord += filterArea.zw;nn    return coord;n}nnvec2 unmapCoord( vec2 coord )n{n    coord -= filterArea.zw;n    coord = filterArea.xy;nn    return coord;n}nnvec2 pixelate(vec2 coord, vec2 size)n{n    return floor( coord  size )  size;n}nnvec2 getMod(vec2 coord, vec2 size)n{n    return mod( coord , size)  size;n}nnfloat character(float n, vec2 p)n{n    p = floor(pvec2(4.0, -4.0) + 2.5);nn    if (clamp(p.x, 0.0, 4.0) == p.x)n    {n        if (clamp(p.y, 0.0, 4.0) == p.y)n        {n            if (int(mod(nexp2(p.x + 5.0p.y), 2.0)) == 1) return 1.0;n        }n    }n    return 0.0;n}nnvoid main()n{n    vec2 coord = mapCoord(vTextureCoord);nn     get the rounded color..n    vec2 pixCoord = pixelate(coord, vec2(pixelSize));n    pixCoord = unmapCoord(pixCoord);nn    vec4 color = texture2D(uSampler, pixCoord);nn     determine the character to usen    float gray = (color.r + color.g + color.b)  3.0;nn    float n =  65536.0;              .n    if (gray  0.2) n = 65600.0;     n    if (gray  0.3) n = 332772.0;    n    if (gray  0.4) n = 15255086.0;  on    if (gray  0.5) n = 23385164.0;  &n    if (gray  0.6) n = 15252014.0;  8n    if (gray  0.7) n = 13199452.0;  @n    if (gray  0.8) n = 11512810.0;  #nn     get the mod..n    vec2 modd = getMod(coord, vec2(pixelSize));nn    gl_FragColor = color  character( n, vec2(-1.0) + modd  2.0);nn}n)this;return t.size=n,t}return u(n,e),Object.defineProperty(n.prototype,size,{getfunction(){return this.uniforms.pixelSize},setfunction(e){this.uniforms.pixelSize=e},enumerable!1,configurable!0}),n}(n.Filter),v=function(e){function n(n){var t=e.call(this,c,precision mediump float;nnvarying vec2 vTextureCoord;nuniform sampler2D uSampler;nuniform vec4 filterArea;nnuniform float transformX;nuniform float transformY;nuniform vec3 lightColor;nuniform float lightAlpha;nuniform vec3 shadowColor;nuniform float shadowAlpha;nnvoid main(void) {n    vec2 transform = vec2(1.0  filterArea)  vec2(transformX, transformY);n    vec4 color = texture2D(uSampler, vTextureCoord);n    float light = texture2D(uSampler, vTextureCoord - transform).a;n    float shadow = texture2D(uSampler, vTextureCoord + transform).a;nn    color.rgb = mix(color.rgb, lightColor, clamp((color.a - light)  lightAlpha, 0.0, 1.0));n    color.rgb = mix(color.rgb, shadowColor, clamp((color.a - shadow)  shadowAlpha, 0.0, 1.0));n    gl_FragColor = vec4(color.rgb  color.a, color.a);n}n)this;return t._thickness=2,t._angle=0,t.uniforms.lightColor=new Float32Array(3),t.uniforms.shadowColor=new Float32Array(3),Object.assign(t,{rotation45,thickness2,lightColor16777215,lightAlpha.7,shadowColor0,shadowAlpha.7},n),t.padding=1,t}return u(n,e),n.prototype._updateTransform=function(){this.uniforms.transformX=this._thicknessMath.cos(this._angle),this.uniforms.transformY=this._thicknessMath.sin(this._angle)},Object.defineProperty(n.prototype,rotation,{getfunction(){return this._anglet.DEG_TO_RAD},setfunction(e){this._angle=et.DEG_TO_RAD,this._updateTransform()},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,thickness,{getfunction(){return this._thickness},setfunction(e){this._thickness=e,this._updateTransform()},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,lightColor,{getfunction(){return o.rgb2hex(this.uniforms.lightColor)},setfunction(e){o.hex2rgb(e,this.uniforms.lightColor)},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,lightAlpha,{getfunction(){return this.uniforms.lightAlpha},setfunction(e){this.uniforms.lightAlpha=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,shadowColor,{getfunction(){return o.rgb2hex(this.uniforms.shadowColor)},setfunction(e){o.hex2rgb(e,this.uniforms.shadowColor)},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,shadowAlpha,{getfunction(){return this.uniforms.shadowAlpha},setfunction(e){this.uniforms.shadowAlpha=e},enumerable!1,configurable!0}),n}(n.Filter),y=function(e){function n(n,o,s,u){void 0===n&&(n=2),void 0===o&&(o=4),void 0===s&&(s=r.settings.FILTER_RESOLUTION),void 0===u&&(u=5);var f,c,m=e.call(this)this;returnnumber==typeof n(f=n,c=n)n instanceof t.Point(f=n.x,c=n.y)Array.isArray(n)&&(f=n[0],c=n[1]),m.blurXFilter=new a.BlurFilterPass(!0,f,o,s,u),m.blurYFilter=new a.BlurFilterPass(!1,c,o,s,u),m.blurYFilter.blendMode=i.BLEND_MODES.SCREEN,m.defaultFilter=new l.AlphaFilter,m}return u(n,e),n.prototype.apply=function(e,n,t,r){var o=e.getFilterTexture();this.defaultFilter.apply(e,n,t,r),this.blurXFilter.apply(e,n,o,1),this.blurYFilter.apply(e,o,t,0),e.returnFilterTexture(o)},Object.defineProperty(n.prototype,blur,{getfunction(){return this.blurXFilter.blur},setfunction(e){this.blurXFilter.blur=this.blurYFilter.blur=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,blurX,{getfunction(){return this.blurXFilter.blur},setfunction(e){this.blurXFilter.blur=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,blurY,{getfunction(){return this.blurYFilter.blur},setfunction(e){this.blurYFilter.blur=e},enumerable!1,configurable!0}),n}(n.Filter),b=function(e){function n(t){var r=e.call(this,c,uniform float radius;nuniform float strength;nuniform vec2 center;nuniform sampler2D uSampler;nvarying vec2 vTextureCoord;nnuniform vec4 filterArea;nuniform vec4 filterClamp;nuniform vec2 dimensions;nnvoid main()n{n    vec2 coord = vTextureCoord  filterArea.xy;n    coord -= center  dimensions.xy;n    float distance = length(coord);n    if (distance  radius) {n        float percent = distance  radius;n        if (strength  0.0) {n            coord = mix(1.0, smoothstep(0.0, radius  distance, percent), strength  0.75);n        } else {n            coord = mix(1.0, pow(percent, 1.0 + strength  0.75)  radius  distance, 1.0 - percent);n        }n    }n    coord += center  dimensions.xy;n    coord = filterArea.xy;n    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);n    vec4 color = texture2D(uSampler, clampedCoord);n    if (coord != clampedCoord) {n        color = max(0.0, 1.0 - length(coord - clampedCoord));n    }nn    gl_FragColor = color;n}n)this;return r.uniforms.dimensions=new Float32Array(2),Object.assign(r,n.defaults,t),r}return u(n,e),n.prototype.apply=function(e,n,t,r){var o=n.filterFrame,i=o.width,l=o.height;this.uniforms.dimensions[0]=i,this.uniforms.dimensions[1]=l,e.applyFilter(this,n,t,r)},Object.defineProperty(n.prototype,radius,{getfunction(){return this.uniforms.radius},setfunction(e){this.uniforms.radius=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,strength,{getfunction(){return this.uniforms.strength},setfunction(e){this.uniforms.strength=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,center,{getfunction(){return this.uniforms.center},setfunction(e){this.uniforms.center=e},enumerable!1,configurable!0}),n.defaults={center[.5,.5],radius100,strength1},n}(n.Filter),x=function(e){function t(n,t,r){void 0===t&&(t=!1),void 0===r&&(r=1);var o=e.call(this,c,varying vec2 vTextureCoord;nuniform sampler2D uSampler;nuniform sampler2D colorMap;nuniform float _mix;nuniform float _size;nuniform float _sliceSize;nuniform float _slicePixelSize;nuniform float _sliceInnerSize;nvoid main() {n    vec4 color = texture2D(uSampler, vTextureCoord.xy);nn    vec4 adjusted;n    if (color.a  0.0) {n        color.rgb = color.a;n        float innerWidth = _size - 1.0;n        float zSlice0 = min(floor(color.b  innerWidth), innerWidth);n        float zSlice1 = min(zSlice0 + 1.0, innerWidth);n        float xOffset = _slicePixelSize  0.5 + color.r  _sliceInnerSize;n        float s0 = xOffset + (zSlice0  _sliceSize);n        float s1 = xOffset + (zSlice1  _sliceSize);n        float yOffset = _sliceSize  0.5 + color.g  (1.0 - _sliceSize);n        vec4 slice0Color = texture2D(colorMap, vec2(s0,yOffset));n        vec4 slice1Color = texture2D(colorMap, vec2(s1,yOffset));n        float zOffset = fract(color.b  innerWidth);n        adjusted = mix(slice0Color, slice1Color, zOffset);nn        color.rgb = color.a;n    }n    gl_FragColor = vec4(mix(color, adjusted, _mix).rgb, color.a);nn})this;return o.mix=1,o._size=0,o._sliceSize=0,o._slicePixelSize=0,o._sliceInnerSize=0,o._nearest=!1,o._scaleMode=null,o._colorMap=null,o._scaleMode=null,o.nearest=t,o.mix=r,o.colorMap=n,o}return u(t,e),t.prototype.apply=function(e,n,t,r){this.uniforms._mix=this.mix,e.applyFilter(this,n,t,r)},Object.defineProperty(t.prototype,colorSize,{getfunction(){return this._size},enumerable!1,configurable!0}),Object.defineProperty(t.prototype,colorMap,{getfunction(){return this._colorMap},setfunction(e){var t;e&&(e instanceof n.Texture(e=n.Texture.from(e)),(null===(t=e)void 0===tvoid 0t.baseTexture)&&(e.baseTexture.scaleMode=this._scaleMode,e.baseTexture.mipmap=i.MIPMAP_MODES.OFF,this._size=e.height,this._sliceSize=1this._size,this._slicePixelSize=this._sliceSizethis._size,this._sliceInnerSize=this._slicePixelSize(this._size-1),this.uniforms._size=this._size,this.uniforms._sliceSize=this._sliceSize,this.uniforms._slicePixelSize=this._slicePixelSize,this.uniforms._sliceInnerSize=this._sliceInnerSize,this.uniforms.colorMap=e),this._colorMap=e)},enumerable!1,configurable!0}),Object.defineProperty(t.prototype,nearest,{getfunction(){return this._nearest},setfunction(e){this._nearest=e,this._scaleMode=ei.SCALE_MODES.NEARESTi.SCALE_MODES.LINEAR;var n=this._colorMap;n&&n.baseTexture&&(n.baseTexture._glTextures={},n.baseTexture.scaleMode=this._scaleMode,n.baseTexture.mipmap=i.MIPMAP_MODES.OFF,n._updateID++,n.baseTexture.emit(update,n.baseTexture))},enumerable!1,configurable!0}),t.prototype.updateColorMap=function(){var e=this._colorMap;e&&e.baseTexture&&(e._updateID++,e.baseTexture.emit(update,e.baseTexture),this.colorMap=e)},t.prototype.destroy=function(n){void 0===n&&(n=!1),this._colorMap&&this._colorMap.destroy(n),e.prototype.destroy.call(this)},t}(n.Filter),_=function(e){function n(n,t){void 0===n&&(n=0),void 0===t&&(t=1);var r=e.call(this,c,varying vec2 vTextureCoord;nuniform sampler2D uSampler;nuniform vec3 color;nuniform float alpha;nnvoid main(void) {n    vec4 currentColor = texture2D(uSampler, vTextureCoord);n    gl_FragColor = vec4(mix(currentColor.rgb, color.rgb, currentColor.a  alpha), currentColor.a);n}n)this;return r._color=0,r._alpha=1,r.uniforms.color=new Float32Array(3),r.color=n,r.alpha=t,r}return u(n,e),Object.defineProperty(n.prototype,color,{getfunction(){return this._color},setfunction(e){var n=this.uniforms.color;number==typeof e(o.hex2rgb(e,n),this._color=e)(n[0]=e[0],n[1]=e[1],n[2]=e[2],this._color=o.rgb2hex(n))},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,alpha,{getfunction(){return this._alpha},setfunction(e){this.uniforms.alpha=e,this._alpha=e},enumerable!1,configurable!0}),n}(n.Filter),C=function(e){function n(n,t,r){void 0===n&&(n=16711680),void 0===t&&(t=0),void 0===r&&(r=.4);var o=e.call(this,c,varying vec2 vTextureCoord;nuniform sampler2D uSampler;nuniform vec3 originalColor;nuniform vec3 newColor;nuniform float epsilon;nvoid main(void) {n    vec4 currentColor = texture2D(uSampler, vTextureCoord);n    vec3 colorDiff = originalColor - (currentColor.rgb  max(currentColor.a, 0.0000000001));n    float colorDistance = length(colorDiff);n    float doReplace = step(colorDistance, epsilon);n    gl_FragColor = vec4(mix(currentColor.rgb, (newColor + colorDiff)  currentColor.a, doReplace), currentColor.a);n}n)this;return o._originalColor=16711680,o._newColor=0,o.uniforms.originalColor=new Float32Array(3),o.uniforms.newColor=new Float32Array(3),o.originalColor=n,o.newColor=t,o.epsilon=r,o}return u(n,e),Object.defineProperty(n.prototype,originalColor,{getfunction(){return this._originalColor},setfunction(e){var n=this.uniforms.originalColor;number==typeof e(o.hex2rgb(e,n),this._originalColor=e)(n[0]=e[0],n[1]=e[1],n[2]=e[2],this._originalColor=o.rgb2hex(n))},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,newColor,{getfunction(){return this._newColor},setfunction(e){var n=this.uniforms.newColor;number==typeof e(o.hex2rgb(e,n),this._newColor=e)(n[0]=e[0],n[1]=e[1],n[2]=e[2],this._newColor=o.rgb2hex(n))},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,epsilon,{getfunction(){return this.uniforms.epsilon},setfunction(e){this.uniforms.epsilon=e},enumerable!1,configurable!0}),n}(n.Filter),S=function(e){function n(n,t,r){void 0===t&&(t=200),void 0===r&&(r=200);var o=e.call(this,c,precision mediump float;nnvarying mediump vec2 vTextureCoord;nnuniform sampler2D uSampler;nuniform vec2 texelSize;nuniform float matrix[9];nnvoid main(void)n{n   vec4 c11 = texture2D(uSampler, vTextureCoord - texelSize);  top leftn   vec4 c12 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - texelSize.y));  top centern   vec4 c13 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y - texelSize.y));  top rightnn   vec4 c21 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y));  mid leftn   vec4 c22 = texture2D(uSampler, vTextureCoord);  mid centern   vec4 c23 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y));  mid rightnn   vec4 c31 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y + texelSize.y));  bottom leftn   vec4 c32 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + texelSize.y));  bottom centern   vec4 c33 = texture2D(uSampler, vTextureCoord + texelSize);  bottom rightnn   gl_FragColor =n       c11  matrix[0] + c12  matrix[1] + c13  matrix[2] +n       c21  matrix[3] + c22  matrix[4] + c23  matrix[5] +n       c31  matrix[6] + c32  matrix[7] + c33  matrix[8];nn   gl_FragColor.a = c22.a;n}n)this;return o.uniforms.texelSize=new Float32Array(2),o.uniforms.matrix=new Float32Array(9),void 0!==n&&(o.matrix=n),o.width=t,o.height=r,o}return u(n,e),Object.defineProperty(n.prototype,matrix,{getfunction(){return this.uniforms.matrix},setfunction(e){var n=this;e.forEach((function(e,t){n.uniforms.matrix[t]=e}))},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,width,{getfunction(){return 1this.uniforms.texelSize[0]},setfunction(e){this.uniforms.texelSize[0]=1e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,height,{getfunction(){return 1this.uniforms.texelSize[1]},setfunction(e){this.uniforms.texelSize[1]=1e},enumerable!1,configurable!0}),n}(n.Filter),F=function(e){function n(){return e.call(this,c,precision mediump float;nnvarying vec2 vTextureCoord;nnuniform sampler2D uSampler;nnvoid main(void)n{n    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);nn    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);nn    if (lum  1.00)n    {n        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0)n        {n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);n        }n    }nn    if (lum  0.75)n    {n        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0)n        {n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);n        }n    }nn    if (lum  0.50)n    {n        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0)n        {n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);n        }n    }nn    if (lum  0.3)n    {n        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0)n        {n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);n        }n    }n}n)this}return u(n,e),n}(n.Filter),z=function(e){function n(t){var r=e.call(this,c,varying vec2 vTextureCoord;nuniform sampler2D uSampler;nnuniform vec4 filterArea;nuniform vec2 dimensions;nnconst float SQRT_2 = 1.414213;nnconst float light = 1.0;nnuniform float curvature;nuniform float lineWidth;nuniform float lineContrast;nuniform bool verticalLine;nuniform float noise;nuniform float noiseSize;nnuniform float vignetting;nuniform float vignettingAlpha;nuniform float vignettingBlur;nnuniform float seed;nuniform float time;nnfloat rand(vec2 co) {n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233)))  43758.5453);n}nnvoid main(void)n{n    vec2 pixelCoord = vTextureCoord.xy  filterArea.xy;n    vec2 dir = vec2(vTextureCoord.xy - vec2(0.5, 0.5))  filterArea.xy  dimensions;nn    gl_FragColor = texture2D(uSampler, vTextureCoord);n    vec3 rgb = gl_FragColor.rgb;nn    if (noise  0.0 && noiseSize  0.0)n    {n        pixelCoord.x = floor(pixelCoord.x  noiseSize);n        pixelCoord.y = floor(pixelCoord.y  noiseSize);n        float _noise = rand(pixelCoord  noiseSize  seed) - 0.5;n        rgb += _noise  noise;n    }nn    if (lineWidth  0.0)n    {n        float _c = curvature  0.  curvature  1.;n        float k = curvature  0. (length(dir  dir)  0.25  _c  _c + 0.935  _c)  1.;n        vec2 uv = dir  k;nn        float v = (verticalLine  uv.x  dimensions.x  uv.y  dimensions.y)  min(1.0, 2.0  lineWidth )  _c;n        float j = 1. + cos(v  1.2 - time)  0.5  lineContrast;n        rgb = j;n        float segment = verticalLine  mod((dir.x + .5)  dimensions.x, 4.)  mod((dir.y + .5)  dimensions.y, 4.);n        rgb = 0.99 + ceil(segment)  0.015;n    }nn    if (vignetting  0.0)n    {n        float outter = SQRT_2 - vignetting  SQRT_2;n        float darker = clamp((outter - length(dir)  SQRT_2)  ( 0.00001 + vignettingBlur  SQRT_2), 0.0, 1.0);n        rgb = darker + (1.0 - darker)  (1.0 - vignettingAlpha);n    }nn    gl_FragColor.rgb = rgb;n}n)this;return r.time=0,r.seed=0,r.uniforms.dimensions=new Float32Array(2),Object.assign(r,n.defaults,t),r}return u(n,e),n.prototype.apply=function(e,n,t,r){var o=n.filterFrame,i=o.width,l=o.height;this.uniforms.dimensions[0]=i,this.uniforms.dimensions[1]=l,this.uniforms.seed=this.seed,this.uniforms.time=this.time,e.applyFilter(this,n,t,r)},Object.defineProperty(n.prototype,curvature,{getfunction(){return this.uniforms.curvature},setfunction(e){this.uniforms.curvature=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,lineWidth,{getfunction(){return this.uniforms.lineWidth},setfunction(e){this.uniforms.lineWidth=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,lineContrast,{getfunction(){return this.uniforms.lineContrast},setfunction(e){this.uniforms.lineContrast=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,verticalLine,{getfunction(){return this.uniforms.verticalLine},setfunction(e){this.uniforms.verticalLine=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,noise,{getfunction(){return this.uniforms.noise},setfunction(e){this.uniforms.noise=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,noiseSize,{getfunction(){return this.uniforms.noiseSize},setfunction(e){this.uniforms.noiseSize=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,vignetting,{getfunction(){return this.uniforms.vignetting},setfunction(e){this.uniforms.vignetting=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,vignettingAlpha,{getfunction(){return this.uniforms.vignettingAlpha},setfunction(e){this.uniforms.vignettingAlpha=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,vignettingBlur,{getfunction(){return this.uniforms.vignettingBlur},setfunction(e){this.uniforms.vignettingBlur=e},enumerable!1,configurable!0}),n.defaults={curvature1,lineWidth1,lineContrast.25,verticalLine!1,noise0,noiseSize1,seed0,vignetting.3,vignettingAlpha1,vignettingBlur.3,time0},n}(n.Filter),O=function(e){function n(n,t){void 0===n&&(n=1),void 0===t&&(t=5);var r=e.call(this,c,precision mediump float;nnvarying vec2 vTextureCoord;nvarying vec4 vColor;nnuniform vec4 filterArea;nuniform sampler2D uSampler;nnuniform float angle;nuniform float scale;nnfloat pattern()n{n   float s = sin(angle), c = cos(angle);n   vec2 tex = vTextureCoord  filterArea.xy;n   vec2 point = vec2(n       c  tex.x - s  tex.y,n       s  tex.x + c  tex.yn   )  scale;n   return (sin(point.x)  sin(point.y))  4.0;n}nnvoid main()n{n   vec4 color = texture2D(uSampler, vTextureCoord);n   float average = (color.r + color.g + color.b)  3.0;n   gl_FragColor = vec4(vec3(average  10.0 - 5.0 + pattern()), color.a);n}n)this;return r.scale=n,r.angle=t,r}return u(n,e),Object.defineProperty(n.prototype,scale,{getfunction(){return this.uniforms.scale},setfunction(e){this.uniforms.scale=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,angle,{getfunction(){return this.uniforms.angle},setfunction(e){this.uniforms.angle=e},enumerable!1,configurable!0}),n}(n.Filter),P=function(e){function i(o){var l=e.call(this)this;l.angle=45,l._distance=5,l._resolution=r.settings.FILTER_RESOLUTION;var a=of(f({},i.defaults),o)i.defaults,s=a.kernels,u=a.blur,m=a.quality,p=a.pixelSize,h=a.resolution;l._tintFilter=new n.Filter(c,varying vec2 vTextureCoord;nuniform sampler2D uSampler;nuniform float alpha;nuniform vec3 color;nnuniform vec2 shift;nuniform vec4 inputSize;nnvoid main(void){n    vec4 sample = texture2D(uSampler, vTextureCoord - shift  inputSize.zw);nn     Premultiply alphan    sample.rgb = color.rgb  sample.a;nn     alpha user alphan    sample = alpha;nn    gl_FragColor = sample;n}),l._tintFilter.uniforms.color=new Float32Array(4),l._tintFilter.uniforms.shift=new t.Point,l._tintFilter.resolution=h,l._blurFilter=snew d(s)new d(u,m),l.pixelSize=p,l.resolution=h;var g=a.shadowOnly,v=a.rotation,y=a.distance,b=a.alpha,x=a.color;return l.shadowOnly=g,l.rotation=v,l.distance=y,l.alpha=b,l.color=x,l._updatePadding(),l}return u(i,e),i.prototype.apply=function(e,n,t,r){var o=e.getFilterTexture();this._tintFilter.apply(e,n,o,1),this._blurFilter.apply(e,o,t,r),!0!==this.shadowOnly&&e.applyFilter(this,n,t,0),e.returnFilterTexture(o)},i.prototype._updatePadding=function(){this.padding=this.distance+2this.blur},i.prototype._updateShift=function(){this._tintFilter.uniforms.shift.set(this.distanceMath.cos(this.angle),this.distanceMath.sin(this.angle))},Object.defineProperty(i.prototype,resolution,{getfunction(){return this._resolution},setfunction(e){this._resolution=e,this._tintFilter&&(this._tintFilter.resolution=e),this._blurFilter&&(this._blurFilter.resolution=e)},enumerable!1,configurable!0}),Object.defineProperty(i.prototype,distance,{getfunction(){return this._distance},setfunction(e){this._distance=e,this._updatePadding(),this._updateShift()},enumerable!1,configurable!0}),Object.defineProperty(i.prototype,rotation,{getfunction(){return this.anglet.DEG_TO_RAD},setfunction(e){this.angle=et.DEG_TO_RAD,this._updateShift()},enumerable!1,configurable!0}),Object.defineProperty(i.prototype,alpha,{getfunction(){return this._tintFilter.uniforms.alpha},setfunction(e){this._tintFilter.uniforms.alpha=e},enumerable!1,configurable!0}),Object.defineProperty(i.prototype,color,{getfunction(){return o.rgb2hex(this._tintFilter.uniforms.color)},setfunction(e){o.hex2rgb(e,this._tintFilter.uniforms.color)},enumerable!1,configurable!0}),Object.defineProperty(i.prototype,kernels,{getfunction(){return this._blurFilter.kernels},setfunction(e){this._blurFilter.kernels=e},enumerable!1,configurable!0}),Object.defineProperty(i.prototype,blur,{getfunction(){return this._blurFilter.blur},setfunction(e){this._blurFilter.blur=e,this._updatePadding()},enumerable!1,configurable!0}),Object.defineProperty(i.prototype,quality,{getfunction(){return this._blurFilter.quality},setfunction(e){this._blurFilter.quality=e},enumerable!1,configurable!0}),Object.defineProperty(i.prototype,pixelSize,{getfunction(){return this._blurFilter.pixelSize},setfunction(e){this._blurFilter.pixelSize=e},enumerable!1,configurable!0}),i.defaults={rotation45,distance5,color0,alpha.5,shadowOnly!1,kernelsnull,blur2,quality3,pixelSize1,resolutionr.settings.FILTER_RESOLUTION},i}(n.Filter),A=function(e){function n(n){void 0===n&&(n=5);var t=e.call(this,c,precision mediump float;nnvarying vec2 vTextureCoord;nnuniform sampler2D uSampler;nuniform float strength;nuniform vec4 filterArea;nnnvoid main(void)n{ntvec2 onePixel = vec2(1.0  filterArea);nntvec4 color;nntcolor.rgb = vec3(0.5);nntcolor -= texture2D(uSampler, vTextureCoord - onePixel)  strength;ntcolor += texture2D(uSampler, vTextureCoord + onePixel)  strength;nntcolor.rgb = vec3((color.r + color.g + color.b)  3.0);nntfloat alpha = texture2D(uSampler, vTextureCoord).a;nntgl_FragColor = vec4(color.rgb  alpha, alpha);n}n)this;return t.strength=n,t}return u(n,e),Object.defineProperty(n.prototype,strength,{getfunction(){return this.uniforms.strength},setfunction(e){this.uniforms.strength=e},enumerable!1,configurable!0}),n}(n.Filter),T=function(e){function r(t){var o=e.call(this,c, precision highp float;nnvarying vec2 vTextureCoord;nuniform sampler2D uSampler;nnuniform vec4 filterArea;nuniform vec4 filterClamp;nuniform vec2 dimensions;nuniform float aspect;nnuniform sampler2D displacementMap;nuniform float offset;nuniform float sinDir;nuniform float cosDir;nuniform int fillMode;nnuniform float seed;nuniform vec2 red;nuniform vec2 green;nuniform vec2 blue;nnconst int TRANSPARENT = 0;nconst int ORIGINAL = 1;nconst int LOOP = 2;nconst int CLAMP = 3;nconst int MIRROR = 4;nnvoid main(void)n{n    vec2 coord = (vTextureCoord  filterArea.xy)  dimensions;nn    if (coord.x  1.0  coord.y  1.0) {n        return;n    }nn    float cx = coord.x - 0.5;n    float cy = (coord.y - 0.5)  aspect;n    float ny = (-sinDir  cx + cosDir  cy)  aspect + 0.5;nn     displacementMap repeatn     ny = ny  1.0  ny - 1.0  (ny  0.0  1.0 + ny  ny);nn     displacementMap mirrorn    ny = ny  1.0  2.0 - ny  (ny  0.0  -ny  ny);nn    vec4 dc = texture2D(displacementMap, vec2(0.5, ny));nn    float displacement = (dc.r - dc.g)  (offset  filterArea.x);nn    coord = vTextureCoord + vec2(cosDir  displacement, sinDir  displacement  aspect);nn    if (fillMode == CLAMP) {n        coord = clamp(coord, filterClamp.xy, filterClamp.zw);n    } else {n        if( coord.x  filterClamp.z ) {n            if (fillMode == TRANSPARENT) {n                discard;n            } else if (fillMode == LOOP) {n                coord.x -= filterClamp.z;n            } else if (fillMode == MIRROR) {n                coord.x = filterClamp.z  2.0 - coord.x;n            }n        } else if( coord.x  filterClamp.x ) {n            if (fillMode == TRANSPARENT) {n                discard;n            } else if (fillMode == LOOP) {n                coord.x += filterClamp.z;n            } else if (fillMode == MIRROR) {n                coord.x = -filterClamp.z;n            }n        }nn        if( coord.y  filterClamp.w ) {n            if (fillMode == TRANSPARENT) {n                discard;n            } else if (fillMode == LOOP) {n                coord.y -= filterClamp.w;n            } else if (fillMode == MIRROR) {n                coord.y = filterClamp.w  2.0 - coord.y;n            }n        } else if( coord.y  filterClamp.y ) {n            if (fillMode == TRANSPARENT) {n                discard;n            } else if (fillMode == LOOP) {n                coord.y += filterClamp.w;n            } else if (fillMode == MIRROR) {n                coord.y = -filterClamp.w;n            }n        }n    }nn    gl_FragColor.r = texture2D(uSampler, coord + red  (1.0 - seed  0.4)  filterArea.xy).r;n    gl_FragColor.g = texture2D(uSampler, coord + green  (1.0 - seed  0.3)  filterArea.xy).g;n    gl_FragColor.b = texture2D(uSampler, coord + blue  (1.0 - seed  0.2)  filterArea.xy).b;n    gl_FragColor.a = texture2D(uSampler, coord).a;n}n)this;return o.offset=100,o.fillMode=r.TRANSPARENT,o.average=!1,o.seed=0,o.minSize=8,o.sampleSize=512,o._slices=0,o._offsets=new Float32Array(1),o._sizes=new Float32Array(1),o._direction=-1,o.uniforms.dimensions=new Float32Array(2),o._canvas=document.createElement(canvas),o._canvas.width=4,o._canvas.height=o.sampleSize,o.texture=n.Texture.from(o._canvas,{scaleModei.SCALE_MODES.NEAREST}),Object.assign(o,r.defaults,t),o}return u(r,e),r.prototype.apply=function(e,n,t,r){var o=n.filterFrame,i=o.width,l=o.height;this.uniforms.dimensions[0]=i,this.uniforms.dimensions[1]=l,this.uniforms.aspect=li,this.uniforms.seed=this.seed,this.uniforms.offset=this.offset,this.uniforms.fillMode=this.fillMode,e.applyFilter(this,n,t,r)},r.prototype._randomizeSizes=function(){var e=this._sizes,n=this._slices-1,t=this.sampleSize,r=Math.min(this.minSizet,.9this._slices);if(this.average){for(var o=this._slices,i=1,l=0;ln;l++){var a=i(o-l),s=Math.max(a(1-.6Math.random()),r);e[l]=s,i-=s}e[n]=i}else{i=1;var u=Math.sqrt(1this._slices);for(l=0;ln;l++){s=Math.max(uiMath.random(),r);e[l]=s,i-=s}e[n]=i}this.shuffle()},r.prototype.shuffle=function(){for(var e=this._sizes,n=this._slices-1;n0;n--){var t=Math.random()n0,r=e[n];e[n]=e[t],e[t]=r}},r.prototype._randomizeOffsets=function(){for(var e=0;ethis._slices;e++)this._offsets[e]=Math.random()(Math.random().5-11)},r.prototype.refresh=function(){this._randomizeSizes(),this._randomizeOffsets(),this.redraw()},r.prototype.redraw=function(){var e,n=this.sampleSize,t=this.texture,r=this._canvas.getContext(2d);r.clearRect(0,0,8,n);for(var o=0,i=0;ithis._slices;i++){e=Math.floor(256this._offsets[i]);var l=this._sizes[i]n,a=e0e0,s=e0-e0;r.fillStyle=rgba(+a+, +s+, 0, 1),r.fillRect(0,o0,n,l+10),o+=l}t.baseTexture.update(),this.uniforms.displacementMap=t},Object.defineProperty(r.prototype,sizes,{getfunction(){return this._sizes},setfunction(e){for(var n=Math.min(this._slices,e.length),t=0;tn;t++)this._sizes[t]=e[t]},enumerable!1,configurable!0}),Object.defineProperty(r.prototype,offsets,{getfunction(){return this._offsets},setfunction(e){for(var n=Math.min(this._slices,e.length),t=0;tn;t++)this._offsets[t]=e[t]},enumerable!1,configurable!0}),Object.defineProperty(r.prototype,slices,{getfunction(){return this._slices},setfunction(e){this._slices!==e&&(this._slices=e,this.uniforms.slices=e,this._sizes=this.uniforms.slicesWidth=new Float32Array(e),this._offsets=this.uniforms.slicesOffset=new Float32Array(e),this.refresh())},enumerable!1,configurable!0}),Object.defineProperty(r.prototype,direction,{getfunction(){return this._direction},setfunction(e){if(this._direction!==e){this._direction=e;var n=et.DEG_TO_RAD;this.uniforms.sinDir=Math.sin(n),this.uniforms.cosDir=Math.cos(n)}},enumerable!1,configurable!0}),Object.defineProperty(r.prototype,red,{getfunction(){return this.uniforms.red},setfunction(e){this.uniforms.red=e},enumerable!1,configurable!0}),Object.defineProperty(r.prototype,green,{getfunction(){return this.uniforms.green},setfunction(e){this.uniforms.green=e},enumerable!1,configurable!0}),Object.defineProperty(r.prototype,blue,{getfunction(){return this.uniforms.blue},setfunction(e){this.uniforms.blue=e},enumerable!1,configurable!0}),r.prototype.destroy=function(){var e;null===(e=this.texture)void 0===ee.destroy(!0),this.texture=this._canvas=this.red=this.green=this.blue=this._sizes=this._offsets=null},r.defaults={slices5,offset100,direction0,fillMode0,average!1,seed0,red[0,0],green[0,0],blue[0,0],minSize8,sampleSize512},r.TRANSPARENT=0,r.ORIGINAL=1,r.LOOP=2,r.CLAMP=3,r.MIRROR=4,r}(n.Filter),w=function(e){function n(t){var r=this,o=Object.assign({},n.defaults,t),i=o.outerStrength,l=o.innerStrength,a=o.color,s=o.knockout,u=o.quality,f=Math.round(o.distance);return(r=e.call(this,c,varying vec2 vTextureCoord;nvarying vec4 vColor;nnuniform sampler2D uSampler;nnuniform float outerStrength;nuniform float innerStrength;nnuniform vec4 glowColor;nnuniform vec4 filterArea;nuniform vec4 filterClamp;nuniform bool knockout;nnconst float PI = 3.14159265358979323846264;nnconst float DIST = __DIST__;nconst float ANGLE_STEP_SIZE = min(__ANGLE_STEP_SIZE__, PI  2.0);nconst float ANGLE_STEP_NUM = ceil(PI  2.0  ANGLE_STEP_SIZE);nnconst float MAX_TOTAL_ALPHA = ANGLE_STEP_NUM  DIST  (DIST + 1.0)  2.0;nnvoid main(void) {n    vec2 px = vec2(1.0  filterArea.x, 1.0  filterArea.y);nn    float totalAlpha = 0.0;nn    vec2 direction;n    vec2 displaced;n    vec4 curColor;nn    for (float angle = 0.0; angle  PI  2.0; angle += ANGLE_STEP_SIZE) {n       direction = vec2(cos(angle), sin(angle))  px;nn       for (float curDistance = 0.0; curDistance  DIST; curDistance++) {n           displaced = clamp(vTextureCoord + direction  n                   (curDistance + 1.0), filterClamp.xy, filterClamp.zw);nn           curColor = texture2D(uSampler, displaced);nn           totalAlpha += (DIST - curDistance)  curColor.a;n       }n    }n    n    curColor = texture2D(uSampler, vTextureCoord);nn    float alphaRatio = (totalAlpha  MAX_TOTAL_ALPHA);nn    float innerGlowAlpha = (1.0 - alphaRatio)  innerStrength  curColor.a;n    float innerGlowStrength = min(1.0, innerGlowAlpha);n    n    vec4 innerColor = mix(curColor, glowColor, innerGlowStrength);nn    float outerGlowAlpha = alphaRatio  outerStrength  (1. - curColor.a);n    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);nn    vec4 outerGlowColor = outerGlowStrength  glowColor.rgba;n    n    if (knockout) {n      float resultAlpha = outerGlowAlpha + innerGlowAlpha;n      gl_FragColor = vec4(glowColor.rgb  resultAlpha, resultAlpha);n    }n    else {n      gl_FragColor = innerColor + outerGlowColor;n    }n}n.replace(__ANGLE_STEP_SIZE__gi,+(1uf).toFixed(7)).replace(__DIST__gi,f.toFixed(0)+.0))this).uniforms.glowColor=new Float32Array([0,0,0,1]),Object.assign(r,{colora,outerStrengthi,innerStrengthl,paddingf,knockouts}),r}return u(n,e),Object.defineProperty(n.prototype,color,{getfunction(){return o.rgb2hex(this.uniforms.glowColor)},setfunction(e){o.hex2rgb(e,this.uniforms.glowColor)},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,outerStrength,{getfunction(){return this.uniforms.outerStrength},setfunction(e){this.uniforms.outerStrength=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,innerStrength,{getfunction(){return this.uniforms.innerStrength},setfunction(e){this.uniforms.innerStrength=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,knockout,{getfunction(){return this.uniforms.knockout},setfunction(e){this.uniforms.knockout=e},enumerable!1,configurable!0}),n.defaults={distance10,outerStrength4,innerStrength0,color16777215,quality.1,knockout!1},n}(n.Filter),D=function(e){function n(r){var o=e.call(this,c,varying vec2 vTextureCoord;nuniform sampler2D uSampler;nuniform vec4 filterArea;nuniform vec2 dimensions;nnuniform vec2 light;nuniform bool parallel;nuniform float aspect;nnuniform float gain;nuniform float lacunarity;nuniform float time;nuniform float alpha;nn${perlin}nnvoid main(void) {n    vec2 coord = vTextureCoord  filterArea.xy  dimensions.xy;nn    float d;nn    if (parallel) {n        float _cos = light.x;n        float _sin = light.y;n        d = (_cos  coord.x) + (_sin  coord.y  aspect);n    } else {n        float dx = coord.x - light.x  dimensions.x;n        float dy = (coord.y - light.y  dimensions.y)  aspect;n        float dis = sqrt(dx  dx + dy  dy) + 0.00001;n        d = dy  dis;n    }nn    vec3 dir = vec3(d, d, 0.0);nn    float noise = turb(dir + vec3(time, 0.0, 62.1 + time)  0.05, vec3(480.0, 320.0, 480.0), lacunarity, gain);n    noise = mix(noise, 0.0, 0.3);n    fade vertically.n    vec4 mist = vec4(noise, noise, noise, 1.0)  (1.0 - coord.y);n    mist.a = 1.0;n     apply user alphan    mist = alpha;nn    gl_FragColor = texture2D(uSampler, vTextureCoord) + mist;nn}n.replace(${perlin},vec3 mod289(vec3 x)n{n    return x - floor(x  (1.0  289.0))  289.0;n}nvec4 mod289(vec4 x)n{n    return x - floor(x  (1.0  289.0))  289.0;n}nvec4 permute(vec4 x)n{n    return mod289(((x  34.0) + 1.0)  x);n}nvec4 taylorInvSqrt(vec4 r)n{n    return 1.79284291400159 - 0.85373472095314  r;n}nvec3 fade(vec3 t)n{n    return t  t  t  (t  (t  6.0 - 15.0) + 10.0);n}n Classic Perlin noise, periodic variantnfloat pnoise(vec3 P, vec3 rep)n{n    vec3 Pi0 = mod(floor(P), rep);  Integer part, modulo periodn    vec3 Pi1 = mod(Pi0 + vec3(1.0), rep);  Integer part + 1, mod periodn    Pi0 = mod289(Pi0);n    Pi1 = mod289(Pi1);n    vec3 Pf0 = fract(P);  Fractional part for interpolationn    vec3 Pf1 = Pf0 - vec3(1.0);  Fractional part - 1.0n    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);n    vec4 iy = vec4(Pi0.yy, Pi1.yy);n    vec4 iz0 = Pi0.zzzz;n    vec4 iz1 = Pi1.zzzz;n    vec4 ixy = permute(permute(ix) + iy);n    vec4 ixy0 = permute(ixy + iz0);n    vec4 ixy1 = permute(ixy + iz1);n    vec4 gx0 = ixy0  (1.0  7.0);n    vec4 gy0 = fract(floor(gx0)  (1.0  7.0)) - 0.5;n    gx0 = fract(gx0);n    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);n    vec4 sz0 = step(gz0, vec4(0.0));n    gx0 -= sz0  (step(0.0, gx0) - 0.5);n    gy0 -= sz0  (step(0.0, gy0) - 0.5);n    vec4 gx1 = ixy1  (1.0  7.0);n    vec4 gy1 = fract(floor(gx1)  (1.0  7.0)) - 0.5;n    gx1 = fract(gx1);n    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);n    vec4 sz1 = step(gz1, vec4(0.0));n    gx1 -= sz1  (step(0.0, gx1) - 0.5);n    gy1 -= sz1  (step(0.0, gy1) - 0.5);n    vec3 g000 = vec3(gx0.x, gy0.x, gz0.x);n    vec3 g100 = vec3(gx0.y, gy0.y, gz0.y);n    vec3 g010 = vec3(gx0.z, gy0.z, gz0.z);n    vec3 g110 = vec3(gx0.w, gy0.w, gz0.w);n    vec3 g001 = vec3(gx1.x, gy1.x, gz1.x);n    vec3 g101 = vec3(gx1.y, gy1.y, gz1.y);n    vec3 g011 = vec3(gx1.z, gy1.z, gz1.z);n    vec3 g111 = vec3(gx1.w, gy1.w, gz1.w);n    vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));n    g000 = norm0.x;n    g010 = norm0.y;n    g100 = norm0.z;n    g110 = norm0.w;n    vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));n    g001 = norm1.x;n    g011 = norm1.y;n    g101 = norm1.z;n    g111 = norm1.w;n    float n000 = dot(g000, Pf0);n    float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));n    float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));n    float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));n    float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));n    float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));n    float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));n    float n111 = dot(g111, Pf1);n    vec3 fade_xyz = fade(Pf0);n    vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);n    vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);n    float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);n    return 2.2  n_xyz;n}nfloat turb(vec3 P, vec3 rep, float lacunarity, float gain)n{n    float sum = 0.0;n    float sc = 1.0;n    float totalgain = 1.0;n    for (float i = 0.0; i  6.0; i++)n    {n        sum += totalgain  pnoise(P  sc, rep);n        sc = lacunarity;n        totalgain = gain;n    }n    return abs(sum);n}n))this;o.parallel=!0,o.time=0,o._angle=0,o.uniforms.dimensions=new Float32Array(2);var i=Object.assign(n.defaults,r);return o._angleLight=new t.Point,o.angle=i.angle,o.gain=i.gain,o.lacunarity=i.lacunarity,o.alpha=i.alpha,o.parallel=i.parallel,o.center=i.center,o.time=i.time,o}return u(n,e),n.prototype.apply=function(e,n,t,r){var o=n.filterFrame,i=o.width,l=o.height;this.uniforms.light=this.parallelthis._angleLightthis.center,this.uniforms.parallel=this.parallel,this.uniforms.dimensions[0]=i,this.uniforms.dimensions[1]=l,this.uniforms.aspect=li,this.uniforms.time=this.time,this.uniforms.alpha=this.alpha,e.applyFilter(this,n,t,r)},Object.defineProperty(n.prototype,angle,{getfunction(){return this._angle},setfunction(e){this._angle=e;var n=et.DEG_TO_RAD;this._angleLight.x=Math.cos(n),this._angleLight.y=Math.sin(n)},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,gain,{getfunction(){return this.uniforms.gain},setfunction(e){this.uniforms.gain=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,lacunarity,{getfunction(){return this.uniforms.lacunarity},setfunction(e){this.uniforms.lacunarity=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,alpha,{getfunction(){return this.uniforms.alpha},setfunction(e){this.uniforms.alpha=e},enumerable!1,configurable!0}),n.defaults={angle30,gain.5,lacunarity2.5,time0,parallel!0,center[0,0],alpha1},n}(n.Filter),j=function(e){function n(n,r,o){void 0===n&&(n=[0,0]),void 0===r&&(r=5),void 0===o&&(o=0);var i=e.call(this,c,varying vec2 vTextureCoord;nuniform sampler2D uSampler;nuniform vec4 filterArea;nnuniform vec2 uVelocity;nuniform int uKernelSize;nuniform float uOffset;nnconst int MAX_KERNEL_SIZE = 2048;nn Noticen the perfect wayn    int kernelSize = min(uKernelSize, MAX_KERNELSIZE);n BUT in real use-case , uKernelSize  MAX_KERNELSIZE almost always.n So use uKernelSize directly.nnvoid main(void)n{n    vec4 color = texture2D(uSampler, vTextureCoord);nn    if (uKernelSize == 0)n    {n        gl_FragColor = color;n        return;n    }nn    vec2 velocity = uVelocity  filterArea.xy;n    float offset = -uOffset  length(uVelocity) - 0.5;n    int k = uKernelSize - 1;nn    for(int i = 0; i  MAX_KERNEL_SIZE - 1; i++) {n        if (i == k) {n            break;n        }n        vec2 bias = velocity  (float(i)  float(k) + offset);n        color += texture2D(uSampler, vTextureCoord + bias);n    }n    gl_FragColor = color  float(uKernelSize);n}n)this;return i.kernelSize=5,i.uniforms.uVelocity=new Float32Array(2),i._velocity=new t.ObservablePoint(i.velocityChanged,i),i.setVelocity(n),i.kernelSize=r,i.offset=o,i}return u(n,e),n.prototype.apply=function(e,n,t,r){var o=this.velocity,i=o.x,l=o.y;this.uniforms.uKernelSize=0!==i0!==lthis.kernelSize0,e.applyFilter(this,n,t,r)},Object.defineProperty(n.prototype,velocity,{getfunction(){return this._velocity},setfunction(e){this.setVelocity(e)},enumerable!1,configurable!0}),n.prototype.setVelocity=function(e){if(Array.isArray(e)){var n=e[0],t=e[1];this._velocity.set(n,t)}else this._velocity.copyFrom(e)},n.prototype.velocityChanged=function(){this.uniforms.uVelocity[0]=this._velocity.x,this.uniforms.uVelocity[1]=this._velocity.y,this.padding=1+(Math.max(Math.abs(this._velocity.x),Math.abs(this._velocity.y))0)},Object.defineProperty(n.prototype,offset,{getfunction(){return this.uniforms.uOffset},setfunction(e){this.uniforms.uOffset=e},enumerable!1,configurable!0}),n}(n.Filter),M=function(e){function n(n,t,r){void 0===t&&(t=.05),void 0===r&&(r=n.length);var o=e.call(this,c,varying vec2 vTextureCoord;nuniform sampler2D uSampler;nnuniform float epsilon;nnconst int MAX_COLORS = %maxColors%;nnuniform vec3 originalColors[MAX_COLORS];nuniform vec3 targetColors[MAX_COLORS];nnvoid main(void)n{n    gl_FragColor = texture2D(uSampler, vTextureCoord);nn    float alpha = gl_FragColor.a;n    if (alpha  0.0001)n    {n      return;n    }nn    vec3 color = gl_FragColor.rgb  alpha;nn    for(int i = 0; i  MAX_COLORS; i++)n    {n      vec3 origColor = originalColors[i];n      if (origColor.r  0.0)n      {n        break;n      }n      vec3 colorDiff = origColor - color;n      if (length(colorDiff)  epsilon)n      {n        vec3 targetColor = targetColors[i];n        gl_FragColor = vec4((targetColor + colorDiff)  alpha, alpha);n        return;n      }n    }n}n.replace(%maxColors%g,r.toFixed(0)))this;return o._replacements=[],o._maxColors=0,o.epsilon=t,o._maxColors=r,o.uniforms.originalColors=new Float32Array(3r),o.uniforms.targetColors=new Float32Array(3r),o.replacements=n,o}return u(n,e),Object.defineProperty(n.prototype,replacements,{getfunction(){return this._replacements},setfunction(e){var n=this.uniforms.originalColors,t=this.uniforms.targetColors,r=e.length;if(rthis._maxColors)throw new Error(Length of replacements (+r+) exceeds the maximum colors length (+this._maxColors+));n[3r]=-1;for(var i=0;ir;i++){var l=e[i],a=l[0];number==typeof aa=o.hex2rgb(a)l[0]=o.rgb2hex(a),n[3i]=a[0],n[3i+1]=a[1],n[3i+2]=a[2];var s=l[1];number==typeof ss=o.hex2rgb(s)l[1]=o.rgb2hex(s),t[3i]=s[0],t[3i+1]=s[1],t[3i+2]=s[2]}this._replacements=e},enumerable!1,configurable!0}),n.prototype.refresh=function(){this.replacements=this._replacements},Object.defineProperty(n.prototype,maxColors,{getfunction(){return this._maxColors},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,epsilon,{getfunction(){return this.uniforms.epsilon},setfunction(e){this.uniforms.epsilon=e},enumerable!1,configurable!0}),n}(n.Filter),R=function(e){function n(t,r){void 0===r&&(r=0);var o=e.call(this,c,varying vec2 vTextureCoord;nuniform sampler2D uSampler;nuniform vec4 filterArea;nuniform vec2 dimensions;nnuniform float sepia;nuniform float noise;nuniform float noiseSize;nuniform float scratch;nuniform float scratchDensity;nuniform float scratchWidth;nuniform float vignetting;nuniform float vignettingAlpha;nuniform float vignettingBlur;nuniform float seed;nnconst float SQRT_2 = 1.414213;nconst vec3 SEPIA_RGB = vec3(112.0  255.0, 66.0  255.0, 20.0  255.0);nnfloat rand(vec2 co) {n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233)))  43758.5453);n}nnvec3 Overlay(vec3 src, vec3 dst)n{n     if (dst = 0.5) then 2  src  dstn     if (dst  0.5) then 1 - 2  (1 - dst)  (1 - src)n    return vec3((dst.x = 0.5)  (2.0  src.x  dst.x)  (1.0 - 2.0  (1.0 - dst.x)  (1.0 - src.x)),n                (dst.y = 0.5)  (2.0  src.y  dst.y)  (1.0 - 2.0  (1.0 - dst.y)  (1.0 - src.y)),n                (dst.z = 0.5)  (2.0  src.z  dst.z)  (1.0 - 2.0  (1.0 - dst.z)  (1.0 - src.z)));n}nnnvoid main()n{n    gl_FragColor = texture2D(uSampler, vTextureCoord);n    vec3 color = gl_FragColor.rgb;nn    if (sepia  0.0)n    {n        float gray = (color.x + color.y + color.z)  3.0;n        vec3 grayscale = vec3(gray);nn        color = Overlay(SEPIA_RGB, grayscale);nn        color = grayscale + sepia  (color - grayscale);n    }nn    vec2 coord = vTextureCoord  filterArea.xy  dimensions.xy;nn    if (vignetting  0.0)n    {n        float outter = SQRT_2 - vignetting  SQRT_2;n        vec2 dir = vec2(vec2(0.5, 0.5) - coord);n        dir.y = dimensions.y  dimensions.x;n        float darker = clamp((outter - length(dir)  SQRT_2)  ( 0.00001 + vignettingBlur  SQRT_2), 0.0, 1.0);n        color.rgb = darker + (1.0 - darker)  (1.0 - vignettingAlpha);n    }nn    if (scratchDensity  seed && scratch != 0.0)n    {n        float phase = seed  256.0;n        float s = mod(floor(phase), 2.0);n        float dist = 1.0  scratchDensity;n        float d = distance(coord, vec2(seed  dist, abs(s - seed  dist)));n        if (d  seed  0.6 + 0.4)n        {n            highp float period = scratchDensity  10.0;nn            float xx = coord.x  period + phase;n            float aa = abs(mod(xx, 0.5)  4.0);n            float bb = mod(floor(xx  0.5), 2.0);n            float yy = (1.0 - bb)  aa + bb  (2.0 - aa);nn            float kk = 2.0  period;n            float dw = scratchWidth  dimensions.x  (0.75 + seed);n            float dh = dw  kk;nn            float tine = (yy - (2.0 - dh));nn            if (tine  0.0) {n                float _sign = sign(scratch);nn                tine = s  tine  period + scratch + 0.1;n                tine = clamp(tine + 1.0, 0.5 + _sign  0.5, 1.5 + _sign  0.5);nn                color.rgb = tine;n            }n        }n    }nn    if (noise  0.0 && noiseSize  0.0)n    {n        vec2 pixelCoord = vTextureCoord.xy  filterArea.xy;n        pixelCoord.x = floor(pixelCoord.x  noiseSize);n        pixelCoord.y = floor(pixelCoord.y  noiseSize);n         vec2 d = pixelCoord  noiseSize  vec2(1024.0 + seed  512.0, 1024.0 - seed  512.0);n         float _noise = snoise(d)  0.5;n        float _noise = rand(pixelCoord  noiseSize  seed) - 0.5;n        color += _noise  noise;n    }nn    gl_FragColor.rgb = color;n}n)this;return o.seed=0,o.uniforms.dimensions=new Float32Array(2),number==typeof t(o.seed=t,t=void 0)o.seed=r,Object.assign(o,n.defaults,t),o}return u(n,e),n.prototype.apply=function(e,n,t,r){var o,i;this.uniforms.dimensions[0]=null===(o=n.filterFrame)void 0===ovoid 0o.width,this.uniforms.dimensions[1]=null===(i=n.filterFrame)void 0===ivoid 0i.height,this.uniforms.seed=this.seed,e.applyFilter(this,n,t,r)},Object.defineProperty(n.prototype,sepia,{getfunction(){return this.uniforms.sepia},setfunction(e){this.uniforms.sepia=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,noise,{getfunction(){return this.uniforms.noise},setfunction(e){this.uniforms.noise=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,noiseSize,{getfunction(){return this.uniforms.noiseSize},setfunction(e){this.uniforms.noiseSize=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,scratch,{getfunction(){return this.uniforms.scratch},setfunction(e){this.uniforms.scratch=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,scratchDensity,{getfunction(){return this.uniforms.scratchDensity},setfunction(e){this.uniforms.scratchDensity=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,scratchWidth,{getfunction(){return this.uniforms.scratchWidth},setfunction(e){this.uniforms.scratchWidth=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,vignetting,{getfunction(){return this.uniforms.vignetting},setfunction(e){this.uniforms.vignetting=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,vignettingAlpha,{getfunction(){return this.uniforms.vignettingAlpha},setfunction(e){this.uniforms.vignettingAlpha=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,vignettingBlur,{getfunction(){return this.uniforms.vignettingBlur},setfunction(e){this.uniforms.vignettingBlur=e},enumerable!1,configurable!0}),n.defaults={sepia.3,noise.3,noiseSize1,scratch.5,scratchDensity.3,scratchWidth1,vignetting.3,vignettingAlpha1,vignettingBlur.3},n}(n.Filter),E=function(e){function n(t,r,o){void 0===t&&(t=1),void 0===r&&(r=0),void 0===o&&(o=.1);var i=e.call(this,c,varying vec2 vTextureCoord;nuniform sampler2D uSampler;nnuniform vec2 thickness;nuniform vec4 outlineColor;nuniform vec4 filterClamp;nnconst float DOUBLE_PI = 3.14159265358979323846264  2.;nnvoid main(void) {n    vec4 ownColor = texture2D(uSampler, vTextureCoord);n    vec4 curColor;n    float maxAlpha = 0.;n    vec2 displaced;n    for (float angle = 0.; angle = DOUBLE_PI; angle += ${angleStep}) {n        displaced.x = vTextureCoord.x + thickness.x  cos(angle);n        displaced.y = vTextureCoord.y + thickness.y  sin(angle);n        curColor = texture2D(uSampler, clamp(displaced, filterClamp.xy, filterClamp.zw));n        maxAlpha = max(maxAlpha, curColor.a);n    }n    float resultAlpha = max(maxAlpha, ownColor.a);n    gl_FragColor = vec4((ownColor.rgb + outlineColor.rgb  (1. - ownColor.a))  resultAlpha, resultAlpha);n}n.replace(${angleStep},n.getAngleStep(o)))this;return i._thickness=1,i.uniforms.thickness=new Float32Array([0,0]),i.uniforms.outlineColor=new Float32Array([0,0,0,1]),Object.assign(i,{thicknesst,colorr,qualityo}),i}return u(n,e),n.getAngleStep=function(e){var t=Math.max(en.MAX_SAMPLES,n.MIN_SAMPLES);return(2Math.PIt).toFixed(7)},n.prototype.apply=function(e,n,t,r){this.uniforms.thickness[0]=this._thicknessn._frame.width,this.uniforms.thickness[1]=this._thicknessn._frame.height,e.applyFilter(this,n,t,r)},Object.defineProperty(n.prototype,color,{getfunction(){return o.rgb2hex(this.uniforms.outlineColor)},setfunction(e){o.hex2rgb(e,this.uniforms.outlineColor)},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,thickness,{getfunction(){return this._thickness},setfunction(e){this._thickness=e,this.padding=e},enumerable!1,configurable!0}),n.MIN_SAMPLES=1,n.MAX_SAMPLES=100,n}(n.Filter),I=function(e){function n(n){void 0===n&&(n=10);var t=e.call(this,c,precision mediump float;nnvarying vec2 vTextureCoord;nnuniform vec2 size;nuniform sampler2D uSampler;nnuniform vec4 filterArea;nnvec2 mapCoord( vec2 coord )n{n    coord = filterArea.xy;n    coord += filterArea.zw;nn    return coord;n}nnvec2 unmapCoord( vec2 coord )n{n    coord -= filterArea.zw;n    coord = filterArea.xy;nn    return coord;n}nnvec2 pixelate(vec2 coord, vec2 size)n{ntreturn floor( coord  size )  size;n}nnvoid main(void)n{n    vec2 coord = mapCoord(vTextureCoord);nn    coord = pixelate(coord, size);nn    coord = unmapCoord(coord);nn    gl_FragColor = texture2D(uSampler, coord);n}n)this;return t.size=n,t}return u(n,e),Object.defineProperty(n.prototype,size,{getfunction(){return this.uniforms.size},setfunction(e){number==typeof e&&(e=[e,e]),this.uniforms.size=e},enumerable!1,configurable!0}),n}(n.Filter),k=function(e){function n(n,t,r,o){void 0===n&&(n=0),void 0===t&&(t=[0,0]),void 0===r&&(r=5),void 0===o&&(o=-1);var i=e.call(this,c,varying vec2 vTextureCoord;nuniform sampler2D uSampler;nuniform vec4 filterArea;nnuniform float uRadian;nuniform vec2 uCenter;nuniform float uRadius;nuniform int uKernelSize;nnconst int MAX_KERNEL_SIZE = 2048;nnvoid main(void)n{n    vec4 color = texture2D(uSampler, vTextureCoord);nn    if (uKernelSize == 0)n    {n        gl_FragColor = color;n        return;n    }nn    float aspect = filterArea.y  filterArea.x;n    vec2 center = uCenter.xy  filterArea.xy;n    float gradient = uRadius  filterArea.x  0.3;n    float radius = uRadius  filterArea.x - gradient  0.5;n    int k = uKernelSize - 1;nn    vec2 coord = vTextureCoord;n    vec2 dir = vec2(center - coord);n    float dist = length(vec2(dir.x, dir.y  aspect));nn    float radianStep = uRadian;n    if (radius = 0.0 && dist  radius) {n        float delta = dist - radius;n        float gap = gradient;n        float scale = 1.0 - abs(delta  gap);n        if (scale = 0.0) {n            gl_FragColor = color;n            return;n        }n        radianStep = scale;n    }n    radianStep = float(k);nn    float s = sin(radianStep);n    float c = cos(radianStep);n    mat2 rotationMatrix = mat2(vec2(c, -s), vec2(s, c));nn    for(int i = 0; i  MAX_KERNEL_SIZE - 1; i++) {n        if (i == k) {n            break;n        }nn        coord -= center;n        coord.y = aspect;n        coord = rotationMatrix  coord;n        coord.y = aspect;n        coord += center;nn        vec4 sample = texture2D(uSampler, coord);nn         switch to pre-multiplied alpha to correctly blur transparent imagesn         sample.rgb = sample.a;nn        color += sample;n    }nn    gl_FragColor = color  float(uKernelSize);n}n)this;return i._angle=0,i.angle=n,i.center=t,i.kernelSize=r,i.radius=o,i}return u(n,e),n.prototype.apply=function(e,n,t,r){this.uniforms.uKernelSize=0!==this._anglethis.kernelSize0,e.applyFilter(this,n,t,r)},Object.defineProperty(n.prototype,angle,{getfunction(){return this._angle},setfunction(e){this._angle=e,this.uniforms.uRadian=eMath.PI180},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,center,{getfunction(){return this.uniforms.uCenter},setfunction(e){this.uniforms.uCenter=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,radius,{getfunction(){return this.uniforms.uRadius},setfunction(e){(e0e===10)&&(e=-1),this.uniforms.uRadius=e},enumerable!1,configurable!0}),n}(n.Filter),L=function(e){function n(t){var r=e.call(this,c,varying vec2 vTextureCoord;nuniform sampler2D uSampler;nnuniform vec4 filterArea;nuniform vec4 filterClamp;nuniform vec2 dimensions;nnuniform bool mirror;nuniform float boundary;nuniform vec2 amplitude;nuniform vec2 waveLength;nuniform vec2 alpha;nuniform float time;nnfloat rand(vec2 co) {n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233)))  43758.5453);n}nnvoid main(void)n{n    vec2 pixelCoord = vTextureCoord.xy  filterArea.xy;n    vec2 coord = pixelCoord  dimensions;nn    if (coord.y  boundary) {n        gl_FragColor = texture2D(uSampler, vTextureCoord);n        return;n    }nn    float k = (coord.y - boundary)  (1. - boundary + 0.0001);n    float areaY = boundary  dimensions.y  filterArea.y;n    float v = areaY + areaY - vTextureCoord.y;n    float y = mirror  v  vTextureCoord.y;nn    float _amplitude = ((amplitude.y - amplitude.x)  k + amplitude.x )  filterArea.x;n    float _waveLength = ((waveLength.y - waveLength.x)  k + waveLength.x)  filterArea.y;n    float _alpha = (alpha.y - alpha.x)  k + alpha.x;nn    float x = vTextureCoord.x + cos(v  6.28  _waveLength - time)  _amplitude;n    x = clamp(x, filterClamp.x, filterClamp.z);nn    vec4 color = texture2D(uSampler, vec2(x, y));nn    gl_FragColor = color  _alpha;n}n)this;return r.time=0,r.uniforms.amplitude=new Float32Array(2),r.uniforms.waveLength=new Float32Array(2),r.uniforms.alpha=new Float32Array(2),r.uniforms.dimensions=new Float32Array(2),Object.assign(r,n.defaults,t),r}return u(n,e),n.prototype.apply=function(e,n,t,r){var o,i;this.uniforms.dimensions[0]=null===(o=n.filterFrame)void 0===ovoid 0o.width,this.uniforms.dimensions[1]=null===(i=n.filterFrame)void 0===ivoid 0i.height,this.uniforms.time=this.time,e.applyFilter(this,n,t,r)},Object.defineProperty(n.prototype,mirror,{getfunction(){return this.uniforms.mirror},setfunction(e){this.uniforms.mirror=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,boundary,{getfunction(){return this.uniforms.boundary},setfunction(e){this.uniforms.boundary=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,amplitude,{getfunction(){return this.uniforms.amplitude},setfunction(e){this.uniforms.amplitude[0]=e[0],this.uniforms.amplitude[1]=e[1]},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,waveLength,{getfunction(){return this.uniforms.waveLength},setfunction(e){this.uniforms.waveLength[0]=e[0],this.uniforms.waveLength[1]=e[1]},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,alpha,{getfunction(){return this.uniforms.alpha},setfunction(e){this.uniforms.alpha[0]=e[0],this.uniforms.alpha[1]=e[1]},enumerable!1,configurable!0}),n.defaults={mirror!0,boundary.5,amplitude[0,20],waveLength[30,100],alpha[1,1],time0},n}(n.Filter),N=function(e){function n(n,t,r){void 0===n&&(n=[-10,0]),void 0===t&&(t=[0,10]),void 0===r&&(r=[0,0]);var o=e.call(this,c,precision mediump float;nnvarying vec2 vTextureCoord;nnuniform sampler2D uSampler;nuniform vec4 filterArea;nuniform vec2 red;nuniform vec2 green;nuniform vec2 blue;nnvoid main(void)n{n   gl_FragColor.r = texture2D(uSampler, vTextureCoord + redfilterArea.xy).r;n   gl_FragColor.g = texture2D(uSampler, vTextureCoord + greenfilterArea.xy).g;n   gl_FragColor.b = texture2D(uSampler, vTextureCoord + bluefilterArea.xy).b;n   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;n}n)this;return o.red=n,o.green=t,o.blue=r,o}return u(n,e),Object.defineProperty(n.prototype,red,{getfunction(){return this.uniforms.red},setfunction(e){this.uniforms.red=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,green,{getfunction(){return this.uniforms.green},setfunction(e){this.uniforms.green=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,blue,{getfunction(){return this.uniforms.blue},setfunction(e){this.uniforms.blue=e},enumerable!1,configurable!0}),n}(n.Filter),X=function(e){function n(t,r,o){void 0===t&&(t=[0,0]),void 0===o&&(o=0);var i=e.call(this,c,varying vec2 vTextureCoord;nuniform sampler2D uSampler;nuniform vec4 filterArea;nuniform vec4 filterClamp;nnuniform vec2 center;nnuniform float amplitude;nuniform float wavelength;n uniform float power;nuniform float brightness;nuniform float speed;nuniform float radius;nnuniform float time;nnconst float PI = 3.14159;nnvoid main()n{n    float halfWavelength = wavelength  0.5  filterArea.x;n    float maxRadius = radius  filterArea.x;n    float currentRadius = time  speed  filterArea.x;nn    float fade = 1.0;nn    if (maxRadius  0.0) {n        if (currentRadius  maxRadius) {n            gl_FragColor = texture2D(uSampler, vTextureCoord);n            return;n        }n        fade = 1.0 - pow(currentRadius  maxRadius, 2.0);n    }nn    vec2 dir = vec2(vTextureCoord - center  filterArea.xy);n    dir.y = filterArea.y  filterArea.x;n    float dist = length(dir);nn    if (dist = 0.0  dist  currentRadius - halfWavelength  dist  currentRadius + halfWavelength) {n        gl_FragColor = texture2D(uSampler, vTextureCoord);n        return;n    }nn    vec2 diffUV = normalize(dir);nn    float diff = (dist - currentRadius)  halfWavelength;nn    float p = 1.0 - pow(abs(diff), 2.0);nn     float powDiff = diff  pow(p, 2.0)  ( amplitude  fade );n    float powDiff = 1.25  sin(diff  PI)  p  ( amplitude  fade );nn    vec2 offset = diffUV  powDiff  filterArea.xy;nn     Do clamp n    vec2 coord = vTextureCoord + offset;n    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);n    vec4 color = texture2D(uSampler, clampedCoord);n    if (coord != clampedCoord) {n        color = max(0.0, 1.0 - length(coord - clampedCoord));n    }nn     No clamp n     gl_FragColor = texture2D(uSampler, vTextureCoord + offset);nn    color.rgb = 1.0 + (brightness - 1.0)  p  fade;nn    gl_FragColor = color;n}n)this;return i.center=t,Object.assign(i,n.defaults,r),i.time=o,i}return u(n,e),n.prototype.apply=function(e,n,t,r){this.uniforms.time=this.time,e.applyFilter(this,n,t,r)},Object.defineProperty(n.prototype,center,{getfunction(){return this.uniforms.center},setfunction(e){this.uniforms.center=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,amplitude,{getfunction(){return this.uniforms.amplitude},setfunction(e){this.uniforms.amplitude=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,wavelength,{getfunction(){return this.uniforms.wavelength},setfunction(e){this.uniforms.wavelength=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,brightness,{getfunction(){return this.uniforms.brightness},setfunction(e){this.uniforms.brightness=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,speed,{getfunction(){return this.uniforms.speed},setfunction(e){this.uniforms.speed=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,radius,{getfunction(){return this.uniforms.radius},setfunction(e){this.uniforms.radius=e},enumerable!1,configurable!0}),n.defaults={amplitude30,wavelength160,brightness1,speed500,radius-1},n}(n.Filter),B=function(e){function n(n,t,r){void 0===t&&(t=0),void 0===r&&(r=1);var o=e.call(this,c,varying vec2 vTextureCoord;nuniform sampler2D uSampler;nuniform sampler2D uLightmap;nuniform vec4 filterArea;nuniform vec2 dimensions;nuniform vec4 ambientColor;nvoid main() {n    vec4 diffuseColor = texture2D(uSampler, vTextureCoord);n    vec2 lightCoord = (vTextureCoord  filterArea.xy)  dimensions;n    vec4 light = texture2D(uLightmap, lightCoord);n    vec3 ambient = ambientColor.rgb  ambientColor.a;n    vec3 intensity = ambient + light.rgb;n    vec3 finalColor = diffuseColor.rgb  intensity;n    gl_FragColor = vec4(finalColor, diffuseColor.a);n}n)this;return o._color=0,o.uniforms.dimensions=new Float32Array(2),o.uniforms.ambientColor=new Float32Array([0,0,0,r]),o.texture=n,o.color=t,o}return u(n,e),n.prototype.apply=function(e,n,t,r){var o,i;this.uniforms.dimensions[0]=null===(o=n.filterFrame)void 0===ovoid 0o.width,this.uniforms.dimensions[1]=null===(i=n.filterFrame)void 0===ivoid 0i.height,e.applyFilter(this,n,t,r)},Object.defineProperty(n.prototype,texture,{getfunction(){return this.uniforms.uLightmap},setfunction(e){this.uniforms.uLightmap=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,color,{getfunction(){return this._color},setfunction(e){var n=this.uniforms.ambientColor;number==typeof e(o.hex2rgb(e,n),this._color=e)(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],this._color=o.rgb2hex(n))},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,alpha,{getfunction(){return this.uniforms.ambientColor[3]},setfunction(e){this.uniforms.ambientColor[3]=e},enumerable!1,configurable!0}),n}(n.Filter),G=function(e){function n(n,r,o,i){void 0===n&&(n=100),void 0===r&&(r=600);var l=e.call(this,c,varying vec2 vTextureCoord;nnuniform sampler2D uSampler;nuniform float blur;nuniform float gradientBlur;nuniform vec2 start;nuniform vec2 end;nuniform vec2 delta;nuniform vec2 texSize;nnfloat random(vec3 scale, float seed)n{n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale))  43758.5453 + seed);n}nnvoid main(void)n{n    vec4 color = vec4(0.0);n    float total = 0.0;nn    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);n    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));n    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord  texSize - start, normal))  gradientBlur)  blur;nn    for (float t = -30.0; t = 30.0; t++)n    {n        float percent = (t + offset - 0.5)  30.0;n        float weight = 1.0 - abs(percent);n        vec4 sample = texture2D(uSampler, vTextureCoord + delta  texSize  percent  radius);n        sample.rgb = sample.a;n        color += sample  weight;n        total += weight;n    }nn    color = total;n    color.rgb = color.a + 0.00001;nn    gl_FragColor = color;n}n)this;return l.uniforms.blur=n,l.uniforms.gradientBlur=r,l.uniforms.start=onew t.Point(0,window.innerHeight2),l.uniforms.end=inew t.Point(600,window.innerHeight2),l.uniforms.delta=new t.Point(30,30),l.uniforms.texSize=new t.Point(window.innerWidth,window.innerHeight),l.updateDelta(),l}return u(n,e),n.prototype.updateDelta=function(){this.uniforms.delta.x=0,this.uniforms.delta.y=0},Object.defineProperty(n.prototype,blur,{getfunction(){return this.uniforms.blur},setfunction(e){this.uniforms.blur=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,gradientBlur,{getfunction(){return this.uniforms.gradientBlur},setfunction(e){this.uniforms.gradientBlur=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,start,{getfunction(){return this.uniforms.start},setfunction(e){this.uniforms.start=e,this.updateDelta()},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,end,{getfunction(){return this.uniforms.end},setfunction(e){this.uniforms.end=e,this.updateDelta()},enumerable!1,configurable!0}),n}(n.Filter),K=function(e){function n(){return null!==e&&e.apply(this,arguments)this}return u(n,e),n.prototype.updateDelta=function(){var e=this.uniforms.end.x-this.uniforms.start.x,n=this.uniforms.end.y-this.uniforms.start.y,t=Math.sqrt(ee+nn);this.uniforms.delta.x=et,this.uniforms.delta.y=nt},n}(G),q=function(e){function n(){return null!==e&&e.apply(this,arguments)this}return u(n,e),n.prototype.updateDelta=function(){var e=this.uniforms.end.x-this.uniforms.start.x,n=this.uniforms.end.y-this.uniforms.start.y,t=Math.sqrt(ee+nn);this.uniforms.delta.x=-nt,this.uniforms.delta.y=et},n}(G),W=function(e){function n(n,t,r,o){void 0===n&&(n=100),void 0===t&&(t=600);var i=e.call(this)this;return i.tiltShiftXFilter=new K(n,t,r,o),i.tiltShiftYFilter=new q(n,t,r,o),i}return u(n,e),n.prototype.apply=function(e,n,t,r){var o=e.getFilterTexture();this.tiltShiftXFilter.apply(e,n,o,1),this.tiltShiftYFilter.apply(e,o,t,r),e.returnFilterTexture(o)},Object.defineProperty(n.prototype,blur,{getfunction(){return this.tiltShiftXFilter.blur},setfunction(e){this.tiltShiftXFilter.blur=this.tiltShiftYFilter.blur=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,gradientBlur,{getfunction(){return this.tiltShiftXFilter.gradientBlur},setfunction(e){this.tiltShiftXFilter.gradientBlur=this.tiltShiftYFilter.gradientBlur=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,start,{getfunction(){return this.tiltShiftXFilter.start},setfunction(e){this.tiltShiftXFilter.start=this.tiltShiftYFilter.start=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,end,{getfunction(){return this.tiltShiftXFilter.end},setfunction(e){this.tiltShiftXFilter.end=this.tiltShiftYFilter.end=e},enumerable!1,configurable!0}),n}(n.Filter),Y=function(e){function n(t){var r=e.call(this,c,varying vec2 vTextureCoord;nnuniform sampler2D uSampler;nuniform float radius;nuniform float angle;nuniform vec2 offset;nuniform vec4 filterArea;nnvec2 mapCoord( vec2 coord )n{n    coord = filterArea.xy;n    coord += filterArea.zw;nn    return coord;n}nnvec2 unmapCoord( vec2 coord )n{n    coord -= filterArea.zw;n    coord = filterArea.xy;nn    return coord;n}nnvec2 twist(vec2 coord)n{n    coord -= offset;nn    float dist = length(coord);nn    if (dist  radius)n    {n        float ratioDist = (radius - dist)  radius;n        float angleMod = ratioDist  ratioDist  angle;n        float s = sin(angleMod);n        float c = cos(angleMod);n        coord = vec2(coord.x  c - coord.y  s, coord.x  s + coord.y  c);n    }nn    coord += offset;nn    return coord;n}nnvoid main(void)n{nn    vec2 coord = mapCoord(vTextureCoord);nn    coord = twist(coord);nn    coord = unmapCoord(coord);nn    gl_FragColor = texture2D(uSampler, coord );nn}n)this;return Object.assign(r,n.defaults,t),r}return u(n,e),Object.defineProperty(n.prototype,offset,{getfunction(){return this.uniforms.offset},setfunction(e){this.uniforms.offset=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,radius,{getfunction(){return this.uniforms.radius},setfunction(e){this.uniforms.radius=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,angle,{getfunction(){return this.uniforms.angle},setfunction(e){this.uniforms.angle=e},enumerable!1,configurable!0}),n.defaults={radius200,angle4,padding20,offsetnew t.Point},n}(n.Filter),Z=function(e){function n(t){var r,o=Object.assign(n.defaults,t),i=o.maxKernelSize,l=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)0&&(t[r]=e[r]);if(null!=e&&function==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);or.length;o++)n.indexOf(r[o])0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t}(o,[maxKernelSize]);return r=e.call(this,c,varying vec2 vTextureCoord;nuniform sampler2D uSampler;nuniform vec4 filterArea;nnuniform vec2 uCenter;nuniform float uStrength;nuniform float uInnerRadius;nuniform float uRadius;nnconst float MAX_KERNEL_SIZE = ${maxKernelSize};nn author httpbyteblacksmith.comimprovements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0nhighp float rand(vec2 co, float seed) {n    const highp float a = 12.9898, b = 78.233, c = 43758.5453;n    highp float dt = dot(co + seed, vec2(a, b)), sn = mod(dt, 3.14159);n    return fract(sin(sn)  c + seed);n}nnvoid main() {nn    float minGradient = uInnerRadius  0.3;n    float innerRadius = (uInnerRadius + minGradient  0.5)  filterArea.x;nn    float gradient = uRadius  0.3;n    float radius = (uRadius - gradient  0.5)  filterArea.x;nn    float countLimit = MAX_KERNEL_SIZE;nn    vec2 dir = vec2(uCenter.xy  filterArea.xy - vTextureCoord);n    float dist = length(vec2(dir.x, dir.y  filterArea.y  filterArea.x));nn    float strength = uStrength;nn    float delta = 0.0;n    float gap;n    if (dist  innerRadius) {n        delta = innerRadius - dist;n        gap = minGradient;n    } else if (radius = 0.0 && dist  radius) {  radius  0 means it's infinityn        delta = dist - radius;n        gap = gradient;n    }nn    if (delta  0.0) {n        float normalCount = gap  filterArea.x;n        delta = (normalCount - delta)  normalCount;n        countLimit = delta;n        strength = delta;n        if (countLimit  1.0)n        {n            gl_FragColor = texture2D(uSampler, vTextureCoord);n            return;n        }n    }nn     randomize the lookup values to hide the fixed number of samplesn    float offset = rand(vTextureCoord, 0.0);nn    float total = 0.0;n    vec4 color = vec4(0.0);nn    dir = strength;nn    for (float t = 0.0; t  MAX_KERNEL_SIZE; t++) {n        float percent = (t + offset)  MAX_KERNEL_SIZE;n        float weight = 4.0  (percent - percent  percent);n        vec2 p = vTextureCoord + dir  percent;n        vec4 sample = texture2D(uSampler, p);nn         switch to pre-multiplied alpha to correctly blur transparent imagesn         sample.rgb = sample.a;nn        color += sample  weight;n        total += weight;nn        if (t  countLimit){n            break;n        }n    }nn    color = total;n     switch back from pre-multiplied alphan     color.rgb = color.a + 0.00001;nn    gl_FragColor = color;n}n.replace(${maxKernelSize},i.toFixed(1)))this,Object.assign(r,l),r}return u(n,e),Object.defineProperty(n.prototype,center,{getfunction(){return this.uniforms.uCenter},setfunction(e){this.uniforms.uCenter=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,strength,{getfunction(){return this.uniforms.uStrength},setfunction(e){this.uniforms.uStrength=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,innerRadius,{getfunction(){return this.uniforms.uInnerRadius},setfunction(e){this.uniforms.uInnerRadius=e},enumerable!1,configurable!0}),Object.defineProperty(n.prototype,radius,{getfunction(){return this.uniforms.uRadius},setfunction(e){(e0e===10)&&(e=-1),this.uniforms.uRadius=e},enumerable!1,configurable!0}),n.defaults={strength.1,center[0,0],innerRadius0,radius-1,maxKernelSize32},n}(n.Filter);return e.AdjustmentFilter=m,e.AdvancedBloomFilter=h,e.AsciiFilter=g,e.BevelFilter=v,e.BloomFilter=y,e.BulgePinchFilter=b,e.CRTFilter=z,e.ColorMapFilter=x,e.ColorOverlayFilter=_,e.ColorReplaceFilter=C,e.ConvolutionFilter=S,e.CrossHatchFilter=F,e.DotFilter=O,e.DropShadowFilter=P,e.EmbossFilter=A,e.GlitchFilter=T,e.GlowFilter=w,e.GodrayFilter=D,e.KawaseBlurFilter=d,e.MotionBlurFilter=j,e.MultiColorReplaceFilter=M,e.OldFilmFilter=R,e.OutlineFilter=E,e.PixelateFilter=I,e.RGBSplitFilter=N,e.RadialBlurFilter=k,e.ReflectionFilter=L,e.ShockwaveFilter=X,e.SimpleLightmapFilter=B,e.TiltShiftAxisFilter=G,e.TiltShiftFilter=W,e.TiltShiftXFilter=K,e.TiltShiftYFilter=q,e.TwistFilter=Y,e.ZoomBlurFilter=Z,Object.defineProperty(e,__esModule,{value!0}),e}({},PIXI,PIXI,PIXI,PIXI.utils,PIXI,PIXI.filters,PIXI.filters);Object.assign(PIXI.filters,__filters);
# sourceMappingURL=pixi-filters.js.map